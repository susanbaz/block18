"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai_1 = require("chai");
require("mocha");
const __1 = require("..");
const context_1 = require("../../context");
const output_1 = require("../../output");
let context;
let out;
describe('Call', () => {
    beforeEach(() => {
        context = new context_1.Context;
        out = new output_1.OutputCollector;
    });
    it('should serialize to CSS', () => {
        const rule = __1.call({
            name: 'rgb',
            value: __1.list([__1.num(100), __1.num(100), __1.num(100)])
        });
        chai_1.expect(`${rule}`).to.eq('rgb(100, 100, 100)');
    });
    it('should serialize to a module', () => {
        const rule = __1.call({
            name: 'rgb',
            value: __1.list([__1.num(100), __1.num(100), __1.num(100)])
        });
        rule.toModule(context, out);
        chai_1.expect(out.toString()).to.eq('$J.call({\n  name: "rgb",\n  value: $J.list([\n    $J.num({\n      value: 100,\n      unit: ""\n    }),\n    $J.num({\n      value: 100,\n      unit: ""\n    }),\n    $J.num({\n      value: 100,\n      unit: ""\n    })\n  ]),\n  ref: () => rgb,\n})');
    });
});
