"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.js = exports.JsExpr = void 0;
const node_1 = require("./node");
const declaration_1 = require("./declaration");
/**
 * A JS expression
 * (compile-time node)
 *
 * @example
 * $variable
 * $(func(arg1, arg2))
 */
class JsExpr extends node_1.Node {
    getValue() {
        const { value, post } = this;
        if (post) {
            return `${value} + '${post}'`;
        }
        return value;
    }
    getVar(context) {
        context.rootRules.push(new declaration_1.Declaration({
            name: context.getVar(),
            value: this
        }));
    }
    toCSS(context, out) {
        out.add('[[JS]]', this.location);
    }
    toModule(context, out) {
        out.add(this.getValue(), this.location);
    }
}
exports.JsExpr = JsExpr;
JsExpr.prototype.type = 'JsExpr';
const js = (value, location) => new JsExpr(value, location);
exports.js = js;
